<nav year="{{ year }}" workgroup-id="{{ workgroupId }}"></nav>

<div ng-if="!view.state.calculations.calculatedView.ui.currentBudgetScenarios" class="overlay">
  <spinner class="vertical-center"></spinner>
</div>
  
<ipa-header ng-show="view.state.calculations.calculatedView.ui.currentBudgetScenarios" page-title="Budget Comparison Report"></ipa-header>

<div ng-show="view.state.calculations.calculatedView.ui.currentBudgetScenarios" class="budget-comparison-report__scenario-selector-tray">
  <budget-scenario-selector budget-scenarios="view.state.calculations.calculatedView.ui.currentBudgetScenarios"
                            selected-budget-scenario="view.state.calculations.calculatedView.ui.currentSelectedBudgetScenario"
                            is-current="true"
                            ng-if="view.state.calculations.calculatedView.ui.currentBudgetScenarios">
  </budget-scenario-selector>
  <budget-scenario-selector budget-scenarios="view.state.calculations.calculatedView.ui.previousBudgetScenarios"
                            selected-budget-scenario="view.state.calculations.calculatedView.ui.previousSelectedBudgetScenario"
                            is-current="false"
                            ng-if="view.state.calculations.calculatedView.ui.previousBudgetScenarios">
  </budget-scenario-selector>
</div>
<div ng-show="view.state.calculations.calculatedView.ui.currentBudgetScenarios" class="budget-comparison-report">
  <year-table costs="view.state.calculations.calculatedView.previous.costs"
              funding="view.state.calculations.calculatedView.previous.funding"
              misc-stats="view.state.calculations.calculatedView.previous.miscStats"
              is-current="false"
              instructor-types="view.state.instructorTypes"
              line-item-categories="view.state.lineItemCategories"
              year="(year-1)">
  </year-table>
  <year-table costs="view.state.calculations.calculatedView.current.costs"
              funding="view.state.calculations.calculatedView.current.funding"
              misc-stats="view.state.calculations.calculatedView.current.miscStats"
              is-current="true"
              instructor-types="view.state.instructorTypes"
              line-item-categories="view.state.lineItemCategories"
              year="year">
  </year-table>
  <change-table costs="view.state.calculations.calculatedView.change.costs"
                funding="view.state.calculations.calculatedView.change.funding"
                misc-stats="view.state.calculations.calculatedView.change.miscStats"
                is-current="true"
                instructor-types="view.state.instructorTypes"
                line-item-categories="view.state.lineItemCategories">
  </change-table>
</div>
