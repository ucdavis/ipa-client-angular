<div class="crn-available">
	<div class="crn-available__header">
		<div class="crn-available__header-ui">
			<div class="crn-available__reset-availability">
				<ipa-button
					is-disabled="!(state.supportCallResponse.availabilityBlob) || state.supportCallResponse.availabilityBlob.indexOf('0') == -1"
					disabled-tooltip-message="'Availability has not been provided'"
					icon-class="'glyphicon glyphicon-trash'"
					confirm-message="'Are you sure you want to reset your availability?'"
					text="'Reset Availability'"
					on-click="clearAvailability()">
				</ipa-button>
			</div>

			<div class="crn-available__crn-ui">
				<div class="crn-available__undo-button" ng-show="state.ui.crnSearch.blob">
					<ipa-button
						icon-class="'entypo-ccw'"
						on-click="clearCrnSearch()">
					</ipa-button>
				</div>

				<div class="crn-available__input-container">
					<ipa-input
						value="searchCrn"
						place-holder="'Enter a CRN'">
					</ipa-input>
				</div>

				<div class="crn-available__add-crn">
					<ipa-button
						ng-hide="state.ui.crnSearch.blob"
						text="'Find CRN'"
						disabled-tooltip-message="'Enter a CRN'"
						is-disabled="!(searchCrn)"
						on-click="calculateTimesForCrn(searchCrn)">
					</ipa-button>

					<ipa-button
						ng-show="state.ui.crnSearch.blob.length > 0"
						text="'Apply to availability'"
						skin="'dark'"
						on-click="updateAvailability()">
					<ipa-button>
				</div>
			</div>
		</div>
		<div class="crn-available__feedback">
			{{ state.ui.crnSearch.feedback }}
		</div>
	</div>
	<div class="crn-available__grid-container">
		<grid-available
			ng-if="state.supportCallResponse"
			read-only="state.supportCallResponse.collectAvailabilityByGrid == false"
			support-call-response="state.supportCallResponse">
		</grid-available>
	</div>
</div>