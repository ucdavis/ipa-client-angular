<div id="courses-view">

	<!-- handle lack of sectionGroups -->
	<div ng-if="view.state && view.state.sectionGroups.ids == 0">
			<div class="jumbotron" style="text-align: center; height: 100%; background-color: white;">
				<p class="lead">There are no scheduled courses for {{ sharedState.workgroup.name }} {{ termShortCode.getTermDisplayName() }} {{ year }}-{{ nextYear }}.</p>
			</div>
	</div>

	<div class="container-fluid border-bottom--gray" ng-repeat="sectionGroupId in view.state.sectionGroups.ids"
	 ng-init="sectionGroup=view.state.sectionGroups.list[sectionGroupId]"
	 ng-hide="sectionGroup.isFiltered">
			<div class="flex-row">
					<div class="assignment-title-container">
							<h4 class="assignment-title-header">{{sectionGroup.subjectCode}} {{sectionGroup.courseNumber}} {{sectionGroup.title}}</h4>
							<h5>Section {{sectionGroup.sequencePattern}}</h5>
							<div class="label ng-binding ng-scope info--bg_black">
									Seats: {{sectionGroup.plannedSeats}}
							</div>
							<div>
									<ul class="course-info">
											<li>Units: {{sectionGroup.units}}</li>
											<!--
											<li>TAs: [4/5]</li>
											<li>Readers: [5/5]</li>
											<li>AIs: [1/2]</li>
											-->
									</ul>
							</div>
					</div>
					<div class="flex-selector-course_view">
							<div class="ta_course-section-swticher">
								<div class="remove-tile-container">
								</div>
								<div class="preference-title-container">
									<div class="preference-title">
										TAs
									</div>
								</div>
								<div class="remove-tile-container">
								</div>
							</div>
							<div class="ta_course-section">
								<div class="tile-container"
								ng-repeat="instructionalSupportAssignmentId in sectionGroup.supportAssignmentIds"
								ng-show="view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId].appointmentType == 'teachingAssistant' && view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId].supportStaffId > 0"
								ng-init="supportAssignment=view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId]">
									<div class="remove-tile-container">
									</div>
									<div class="assignment">
										<div class="assignment-description">
											{{ view.state.instructionalSupportStaffs.list[view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId].supportStaffId].fullName }}
										</div>
									</div>
									<div class="remove-tile-container">
										<i ng-class="{'invisible' : readOnlyMode }" class="glyphicon glyphicon-remove assignment-remove-button"
											uib-tooltip="Unassign" tooltip-placement="bottom"
											confirm-button="removeStaffFromSlot(instructionalSupportAssignmentId)"
											message="Are you sure you want to delete this assignment?"
											yes="Confirm" no="Cancel" placement="top"></i>
									</div>
								</div>

								<!-- Display unfilled assignment slots -->
								<div class="tile-container"
									ng-repeat="supportAssignmentId in sectionGroup.supportAssignmentIds"
									ng-show="view.state.instructionalSupportAssignments.list[supportAssignmentId].appointmentType == 'teachingAssistant' && view.state.instructionalSupportAssignments.list[supportAssignmentId].supportStaffId == 0">

									<div class="remove-tile-container">
									</div>
									<support-staff-selector 
										ng-init="instructionalSupportAssignment=view.state.instructionalSupportAssignments.list[supportAssignmentId]; assignmentOptions=view.state.sectionGroups.list[view.state.instructionalSupportAssignments.list[supportAssignmentId].sectionGroupId].taAssignmentOptions"
										class="support-staff-selector assignment"
										 ng-class="{'invisible' : readOnlyMode }">
									</support-staff-selector>

									<div class="remove-tile-container">
										<i ng-class="{'invisible' : readOnlyMode }" class="glyphicon glyphicon-remove assignment-remove-button"
											uib-tooltip="Delete assignment" tooltip-placement="bottom"
											confirm-button="deleteAssignment(instructionalSupportAssignment)"
											btn-class="btn-danger"
											message="Are you sure you want to delete this assignment?"
											yes="Confirm" no="Cancel" placement="top"></i>
									</div>
								</div>

									<!--add new slot button-->
									<div ng-click="openAddAppointmentSlotModal(sectionGroup.id, 'teachingAssistant')"
												class="btn btn-default add-new-slot pull-left"
											 ng-class="{'invisible' : readOnlyMode }">
										Add TA Slots...
									</div>
							</div>
					</div>

					<!-- END TA SECTION -->

					<!-- START READER SECTION -->

					<div class="flex-selector-course_view">
							<div class="ta_course-section-swticher">
								<div class="remove-tile-container">
								</div>
								<div class="preference-title-container">
									<div class="preference-title">
										Readers
									</div>
								</div>
								<div class="remove-tile-container">
								</div>
							</div>
							<div class="ta_course-section">
								<div class="tile-container"
								ng-repeat="instructionalSupportAssignmentId in sectionGroup.supportAssignmentIds"
								ng-show="view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId].appointmentType == 'reader' && view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId].supportStaffId > 0"
								ng-init="supportAssignment=view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId]">
									<div class="remove-tile-container">
									</div>
									<div class="assignment">
										<div class="assignment-description">
											{{ view.state.instructionalSupportStaffs.list[view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId].supportStaffId].fullName }}
										</div>
									</div>
									<div class="remove-tile-container">
										<i ng-class="{'invisible' : readOnlyMode }" class="glyphicon glyphicon-remove assignment-remove-button"
											uib-tooltip="Unassign" tooltip-placement="bottom"
											confirm-button="removeStaffFromSlot(instructionalSupportAssignmentId)"
											message="Are you sure you want to delete this Assignment?"
											yes="Confirm" no="Cancel" placement="top"></i>
									</div>
								</div>

								<!-- Display unfilled assignment slots -->
								<div class="tile-container"
									ng-repeat="instructionalSupportAssignmentId in sectionGroup.supportAssignmentIds"
									ng-show="instructionalSupportAssignment.appointmentType == 'reader' && view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId].supportStaffId == 0">

									<div class="remove-tile-container">
									</div>
									<support-staff-selector 
										ng-init="instructionalSupportAssignment=view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId]; assignmentOptions=view.state.sectionGroups.list[view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId].sectionGroupId].readerAssignmentOptions"
										class="support-staff-selector assignment"
										 ng-class="{'invisible' : readOnlyMode }">
									</support-staff-selector>

									<div class="remove-tile-container">
										<i ng-class="{'invisible' : readOnlyMode }" class="glyphicon glyphicon-remove assignment-remove-button"
											uib-tooltip="Delete Assignment" tooltip-placement="bottom"
											confirm-button="deleteAssignment(instructionalSupportAssignment)"
											message="Are you sure you want to delete this Assignment?"
											yes="Confirm" no="Cancel" placement="top"></i>
									</div>
								</div>

									<!--add new slot button-->
									<div ng-click="openAddAppointmentSlotModal(sectionGroup.id, 'reader')"
			 									ng-class="{'invisible' : readOnlyMode }"
												class="btn btn-default add-new-slot pull-left">
										Add Reader Slots...
									</div>
							</div>
					</div>

					<!-- END READER SECTION -->

					<!-- START AI SECTION -->
					<div class="flex-selector-course_view">
							<div class="ta_course-section-swticher">
								<div class="remove-tile-container">
								</div>
								<div class="preference-title-container">
									<div class="preference-title">
										AIs
									</div>
								</div>
								<div class="remove-tile-container">
								</div>
							</div>
							<div class="ta_course-section">
								<div class="tile-container"
								ng-repeat="instructionalSupportAssignmentId in sectionGroup.supportAssignmentIds"
								ng-show="view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId].appointmentType == 'associateInstructor' && view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId].supportStaffId > 0"
								ng-init="supportAssignment=view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId]">
									<div class="remove-tile-container">
									</div>
									<div class="assignment">
										<div class="assignment-description">
											{{ view.state.instructionalSupportStaffs.list[view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId].supportStaffId].fullName }}
										</div>
									</div>
									<div class="remove-tile-container">
										<i ng-class="{'invisible' : readOnlyMode }" class="glyphicon glyphicon-remove assignment-remove-button"
											uib-tooltip="Unassign" tooltip-placement="bottom"
											confirm-button="removeStaffFromSlot(instructionalSupportAssignmentId)"
											message="Are you sure you want to delete this Assignment?"
											yes="Confirm" no="Cancel" placement="top"></i>
									</div>
								</div>

								<!-- Display unfilled assignment slots -->
								<div class="tile-container"
									ng-repeat="instructionalSupportAssignmentId in sectionGroup.supportAssignmentIds"
									ng-show="instructionalSupportAssignment.appointmentType == 'associateInstructor' && view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId].supportStaffId == 0">

									<div class="remove-tile-container">
									</div>
									<support-staff-selector 
										ng-init="instructionalSupportAssignment=view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId]; assignmentOptions=view.state.sectionGroups.list[view.state.instructionalSupportAssignments.list[instructionalSupportAssignmentId].sectionGroupId].aiAssignmentOptions"
										class="support-staff-selector assignment"
										 ng-class="{'invisible' : readOnlyMode }">
									</support-staff-selector>

									<div class="remove-tile-container">
										<i ng-class="{'invisible' : readOnlyMode }" class="glyphicon glyphicon-remove assignment-remove-button"
											uib-tooltip="Delete Assignment" tooltip-placement="bottom"
											confirm-button="deleteAssignment(instructionalSupportAssignment)"
											message="Are you sure you want to delete this Assignment?"
											yes="Confirm" no="Cancel" placement="top"></i>
									</div>
								</div>

									<!--add new slot button-->
									<div ng-click="openAddAppointmentSlotModal(sectionGroup.id, 'associateInstructor')"
											 ng-class="{'invisible' : readOnlyMode }"
												class="btn btn-default add-new-slot pull-left">
										Add AI Slots...
									</div>
							</div>
					</div>

					<!-- END AI SECTION -->
			</div>
	</div>
</div>