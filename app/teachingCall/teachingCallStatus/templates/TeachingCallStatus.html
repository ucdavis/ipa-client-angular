<nav year="{{ year }}" workgroup-id="{{ workgroupId }}"></nav>
<div>
</div>

<div class="teaching-call-status"><!-- main content container -->


	<h3 style="text-align: center;">
		TeachingCalls {{ year }}-{{ nextYear }}
	</h3>
	<p class="text-align--center department-title">{{ sharedState.workgroup.name }}</p>

	<!-- Toolbar Buttons -->
	<div style="width: 100%; display: flex; padding-right: 15px; padding-bottom: 15px;" class="teaching-call-status">
		<div style="flex: 20 1 0px; display: flex; justify-content: flex-end;">
			<div style="padding-right: 5px;">
				<a ng-if="view.state.eligible.senate.length > 0 || view.state.eligible.federation.length > 0" ng-click="openAddInstructorsModal()" class="btn btn-default">Add Instructors</a>
				<span ng-if="view.state.eligible.senate.length == 0 && view.state.eligible.federation.length == 0" uib-tooltip="All instructors already in teaching call">
					<a class="disabled btn btn-default">Add Instructors</a>
				</span>
			</div>
			<div>
				<a ng-if="atLeastOneInstructorSelected()" ng-click="openContactInstructorsModal()" class="btn btn-default">Contact Instructors</a>
				<span ng-if="atLeastOneInstructorSelected() == false" uib-tooltip="You must select at least one instructor">
					<a class="disabled btn btn-default">Contact Instructors</a>
				</span>
			</div>
		</div>
		<div class="column-hover-ui">
		</div>
	</div>

	<!-- Senate Instructors -->
	<div style="display: flex; padding-left: 15px; padding-right: 15px; width: 100%;">
		<div class="instructor-section" style="width: 100%;">
			<!-- table title -->
			<div style="display: flex;">
				<div class="table-title">
					<div style="padding-left: 20px;">Senate Instructors</div>
				</div>
				<div class="column-hover-ui">
				</div>
			</div>

			<!-- table header -->
			<div style="display: flex;">
				<div class="header-cell first-cell cell column-checkbox">
					<input ng-click="toggleSenateInstructors()" type="checkbox">
				</div>
				<div class="header-left-cell column-name">
					<div style="padding-left:10px;">Name</div>
				</div>
				<div class="header-cell column-last">Last Contacted</div>
				<div class="header-cell column-next">Next Contact</div>
				<div class="header-cell column-due">Due Date</div>
				<div class="column-hover-ui"></div>
			</div>

			<div class="table-row" style="display: flex;" ng-repeat="instructor in view.state.teachingCall.senate">
				<div class="column-checkbox cell first-cell">
					<input type="checkbox" ng-checked="instructor.selected" ng-click="toggleSelectedInstructor(instructor)">
				</div>
				<div class="column-name left-cell">
					<div  style="padding-left: 10px;">
						{{ instructor.lastName }}, {{ instructor.firstName }}
					</div>
				</div>
				<div class="column-last cell">
					{{ instructor.lastContactedAt }}
					<div ng-if="instructor.lastContactedAt != null && instructor.nextContactAt == null" style="padding-left:10px;">
						<i class="glyphicon glyphicon-list-alt"
							class="text-primary clickable hovrable"
							info-tooltip
							title="Email"
							message="{{instructor.message}}"
							placement="top">
					</div>
				</div>
				<div class="column-next cell">
					{{ instructor.nextContactAt }}
					<div ng-if="instructor.nextContactAt != null" style="padding-left:10px;">
						<i class="glyphicon glyphicon-list-alt"
							class="text-primary clickable hovrable"
							info-tooltip
							title="Email"
							message="{{instructor.message}}"
							placement="top">
					</div>
				</div>
				<div class="column-due cell">{{ instructor.dueDate }}</div>
				<div class="column-hover-ui">
					<span style="color: rgba(180, 20, 20, 0.8); font-size: 20px;"
						class="remove-instructor-ui entypo-minus-circled text-primary clickable hovrable"
						tooltip-placement="left"
						uib-tooltip="Remove Instructor"
						confirm-button="removeInstructor(instructor)"
						message="Are you sure you want to remove this instructor?
							This will cancel any pending notifications."
						yes="Remove" no="Cancel" placement="top">
					</span>
				</div>
			</div>
		</div>
	</div>


	<!-- Federation Instructors -->
	<div style="display: flex; padding-left: 15px; padding-right: 15px; width: 100%;">
		<div class="instructor-section" style="width: 100%;">
			<!-- table title -->
			<div style="display: flex;">
				<div class="table-title">
					<div style="padding-left: 20px;">Federation Instructors</div>
				</div>
				<div class="column-hover-ui">
				</div>
			</div>

			<!-- table header -->
			<div style="display: flex;">
				<div class="header-cell first-cell cell column-checkbox">
					<input ng-click="toggleFederationInstructors()" type="checkbox">
				</div>
				<div class="header-left-cell column-name">
					<div style="padding-left:10px;">Name</div>
				</div>
				<div class="header-cell column-last">Last Contacted</div>
				<div class="header-cell column-next">Next Contact</div>
				<div class="header-cell column-due">Due Date</div>
				<div class="column-hover-ui"></div>
			</div>

			<div class="table-row" style="display: flex;" ng-repeat="instructor in view.state.teachingCall.federation">
				<div class="column-checkbox cell first-cell">
					<input type="checkbox" ng-checked="instructor.selected" ng-click="toggleSelectedInstructor(instructor)">
				</div>
				<div class="column-name left-cell">
					<div  style="padding-left: 10px;">
						{{ instructor.lastName }}, {{ instructor.firstName }}
					</div>
				</div>
				<div class="column-last cell">
					{{ instructor.lastContactedAt }}
					<div ng-if="instructor.lastContactedAt != null && instructor.nextContactAt == null" style="padding-left:10px;">
						<i class="glyphicon glyphicon-list-alt"
							class="text-primary clickable hovrable"
							info-tooltip
							title="Email"
							message="{{instructor.message}}"
							placement="top">
					</div>
				</div>
				<div class="column-next cell">
					{{ instructor.nextContactAt }}
					<div ng-if="instructor.nextContactAt != null" style="padding-left:10px;">
						<i class="glyphicon glyphicon-list-alt"
							class="text-primary clickable hovrable"
							info-tooltip
							title="Email"
							message="{{instructor.message}}"
							placement="top">
					</div>
				</div>
				<div class="column-due cell">{{ instructor.dueDate }}</div>
				<div class="column-hover-ui">
					<span style="color: rgba(180, 20, 20, 0.8); font-size: 20px;"
						class="remove-instructor-ui entypo-minus-circled text-primary clickable hovrable"
						tooltip-placement="left"
						uib-tooltip="Remove Instructor"
						confirm-button="removeInstructor(instructor)"
						message="Are you sure you want to remove this instructor?
							This will cancel any pending notifications."
						yes="Remove" no="Cancel" placement="top">
					</span>
				</div>
			</div>
		</div>
	</div>
</div>